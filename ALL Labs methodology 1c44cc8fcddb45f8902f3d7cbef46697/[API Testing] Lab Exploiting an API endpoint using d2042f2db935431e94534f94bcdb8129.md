# [API Testing] Lab: Exploiting an API endpoint using documentation (1)

---

![Untitled](%5BAPI%20Testing%5D%20Lab%20Exploiting%20an%20API%20endpoint%20using%20d2042f2db935431e94534f94bcdb8129/Untitled.png)

Let's login to the provided account. 

![Untitled](%5BAPI%20Testing%5D%20Lab%20Exploiting%20an%20API%20endpoint%20using%20d2042f2db935431e94534f94bcdb8129/Untitled%201.png)

now lets look at the request that are sent through with our proxy. 

![Untitled](%5BAPI%20Testing%5D%20Lab%20Exploiting%20an%20API%20endpoint%20using%20d2042f2db935431e94534f94bcdb8129/Untitled%202.png)

this is a interesting one looks like we are getting JavaScript code related  to the change email API.  

lets try change our email and see what happens. 

![Untitled](%5BAPI%20Testing%5D%20Lab%20Exploiting%20an%20API%20endpoint%20using%20d2042f2db935431e94534f94bcdb8129/Untitled%203.png)

About PATCH: [https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/PATCH](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/PATCH)

The Patch request method is like update in CRUD, so if I know there is a username field in the JSON file then maybe I can be able to update information for carlos if I include his username and well as my own password field maybe it can be exploited like IDOR 

![Untitled](%5BAPI%20Testing%5D%20Lab%20Exploiting%20an%20API%20endpoint%20using%20d2042f2db935431e94534f94bcdb8129/Untitled%204.png)

that didn't work lets do content discovery to see is we can find any API Documentation. 

so first lets find all the endpoints 

look at what we found 

![Untitled](%5BAPI%20Testing%5D%20Lab%20Exploiting%20an%20API%20endpoint%20using%20d2042f2db935431e94534f94bcdb8129/Untitled%205.png)

a file containing all of the end points 

so now lets see how we can exploit this or if it is even possible.  

![Untitled](%5BAPI%20Testing%5D%20Lab%20Exploiting%20an%20API%20endpoint%20using%20d2042f2db935431e94534f94bcdb8129/Untitled%206.png)

whenever doing API testing we always need to find all of the endpoints first. 

![Untitled](%5BAPI%20Testing%5D%20Lab%20Exploiting%20an%20API%20endpoint%20using%20d2042f2db935431e94534f94bcdb8129/Untitled%207.png)

so lets change patch to delete and rather then providing a email lets provide a username 

![Untitled](%5BAPI%20Testing%5D%20Lab%20Exploiting%20an%20API%20endpoint%20using%20d2042f2db935431e94534f94bcdb8129/Untitled%208.png)

and there we go lab solved 

![Untitled](%5BAPI%20Testing%5D%20Lab%20Exploiting%20an%20API%20endpoint%20using%20d2042f2db935431e94534f94bcdb8129/Untitled%209.png)

vertiverhdmi