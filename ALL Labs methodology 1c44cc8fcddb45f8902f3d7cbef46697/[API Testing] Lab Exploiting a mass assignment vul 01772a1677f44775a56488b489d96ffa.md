# [API Testing] Lab: Exploiting a mass assignment vulnerability (1)

---

![Untitled](%5BAPI%20Testing%5D%20Lab%20Exploiting%20a%20mass%20assignment%20vul%2001772a1677f44775a56488b489d96ffa/Untitled.png)

Let's log in to the wiener:peter account. 

![Untitled](%5BAPI%20Testing%5D%20Lab%20Exploiting%20a%20mass%20assignment%20vul%2001772a1677f44775a56488b489d96ffa/Untitled%201.png)

since this is API testing let's use the content discovery tool to look for API documentation or any interesting directories.  

![Untitled](%5BAPI%20Testing%5D%20Lab%20Exploiting%20a%20mass%20assignment%20vul%2001772a1677f44775a56488b489d96ffa/Untitled%202.png)

nothing interesting so far let's go into the product we’re trying to buy. 

![Untitled](%5BAPI%20Testing%5D%20Lab%20Exploiting%20a%20mass%20assignment%20vul%2001772a1677f44775a56488b489d96ffa/Untitled%203.png)

nothing interesting from the get request lets look it we add the item to our cart. 

![Untitled](%5BAPI%20Testing%5D%20Lab%20Exploiting%20a%20mass%20assignment%20vul%2001772a1677f44775a56488b489d96ffa/Untitled%204.png)

lets change some of those values the redir seems interesting. 

![Untitled](%5BAPI%20Testing%5D%20Lab%20Exploiting%20a%20mass%20assignment%20vul%2001772a1677f44775a56488b489d96ffa/Untitled%205.png)

now what if we redirect to the request to buy the product.

![Untitled](%5BAPI%20Testing%5D%20Lab%20Exploiting%20a%20mass%20assignment%20vul%2001772a1677f44775a56488b489d96ffa/Untitled%206.png)

actually we have a API request here lets change this to PATCH To see if that method is supported maybe we can change the price of the item in our cart.  

![Untitled](%5BAPI%20Testing%5D%20Lab%20Exploiting%20a%20mass%20assignment%20vul%2001772a1677f44775a56488b489d96ffa/Untitled%207.png)

so that didn’t work.. our content discovery has found API documentation lets look at it. 

![Untitled](%5BAPI%20Testing%5D%20Lab%20Exploiting%20a%20mass%20assignment%20vul%2001772a1677f44775a56488b489d96ffa/Untitled%208.png)

let's try to post with a discount. 

![Untitled](%5BAPI%20Testing%5D%20Lab%20Exploiting%20a%20mass%20assignment%20vul%2001772a1677f44775a56488b489d96ffa/Untitled%209.png)

Now that we got a 201 

![Untitled](%5BAPI%20Testing%5D%20Lab%20Exploiting%20a%20mass%20assignment%20vul%2001772a1677f44775a56488b489d96ffa/Untitled%2010.png)